import { StateSetter } from "@/types";
import { Button } from "@/ui/button";
import { useEffect } from "react";

const options = [
  { name: "Tailwind", value: "tw" },
  { name: "CSS", value: "CSS" },
];

interface Props {
  returnType: string;
  setReturnType: StateSetter<string>;
  setCanGenerate: StateSetter<number>;
}

const ReturnOptions = ({
  returnType,
  setReturnType,
  setCanGenerate,
}: Props) => {
  useEffect(() => {
    setCanGenerate((prev) => prev + 1);
  }, [returnType]);

  return (
    <div className={`flex flex-col gap-2.5 sm:pl-5 sm:border-l border-input`}>
      <p className={`text-small font-medium`}>Sa√≠da</p>
      <div
        className={`w-full flex justify-start gap-3 sticky bottom-0
          right-0! sm:flex-col sm:max-w-max`}
      >
        {options.map((option) => (
          <Button
            size="sm"
            variant="outline"
            key={option.value}
            optionButton
            isSelected={returnType === option.value}
            className={`rounded-full shadow-xs`}
            onClick={() => {
              setReturnType(option.value);
            }}
          >
            {option.name}
          </Button>
        ))}
      </div>
    </div>
  );
};

export default ReturnOptions;
